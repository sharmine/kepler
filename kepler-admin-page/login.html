<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="format-detection" content="telephone=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-touch-fullscreen" content="yes">
<meta http-equiv="Access-Control-Allow-Origin" content="*">
<link rel="stylesheet" href="/css/base.css" />
<title>--</title>
</head>
<body>
	<header id="header" class="header-topbar">
		<a class="go-back" href="/index.html">
		<img src="/images/home.png"/></a>
		<h1 class="header-title">登录</h1>
	</header>
	<div id="content" class="content-login">
		<h2 class="login-main-title">欢迎登录OPPO帐号</h2>
		<p class="large-input">
		<input type="text" id="username" placeholder="手机号/OPPO ID" name="username"/>
		</p>
		<p class="large-input">
		<input type="password" id="password" placeholder="输入密码" name="password"/>
		</p>
		<span id="submit-login" class="submit">
			<span class="a1">登录中...</span>
			<span class="a2">登录</span>
		</span>
		<div class="login-op">
			<a class="to-reg" href="/register.html">注册OPPO帐号</a>
			<a class="to-forget" href="/forget.html">忘记密码?</a>
		</div>
		<div class="login-body">
			<h2 class="login-title">其他账号登录</h2>
			<div class="login-third">
			<a class="login-logo" href="javascript:;" data="qqlogin">
			<img src="/images/qq.jpg"/></a>
			<a class="login-logo" href="javascript:;" data="sinalogin">
			<img src="/images/sina.jpg"/></a>
			<a class="login-logo" href="javascript:;" data="alipaylogin">
			<img src="/images/alipay.jpg"/></a>
			</div>
		</div>
	</div>

	<script src="/js/jquery-1.11.1.min.js"></script>
	<script>
	//登录UI状态改变
	var loginBtnClicked = false;
	function loginUiChange(flag) {
		if(flag == 1) {
			loginBtnClicked = true;
			$('.submit').find('.a1').show();
			$('.submit').find('.a2').hide();
		} else {
			loginBtnClicked = false;
			$('.submit').find('.a1').hide();
			$('.submit').find('.a2').show();
		}
	}

	//登录中动画
	var loginingMovieCounter = 1;
	function loginingMovie() {
		var str = '';
		for(var i = 0; i < 3; i++) {
			if(i < loginingMovieCounter) {
				str += '.';
			} else {
				str += '&nbsp;';
			}
		}
		$(".submit").find('.a1').html('登录中' + str);
		if(loginingMovieCounter++ >= 3)
			loginingMovieCounter = 1;
	}
	//登录
	function loginSubmit() {
		var username = $('#username').val();
		var password = $('#password').val();
		var data = {
			'url' : '#',
			'queryData':{
				'mobile': username,
				'password': password,
				'refer' : urlencode(document.referrer),
				'callback' : callback_url
			},
			'type' : 'POST'
		};
	}

	$(function(){
		$('#submit-login').click(function(){
			var username = $('#username').val();
			var password = $('#password').val();
			if(username == '') {
				alert('请输入用户名');
				$('#username').focus();
				return false;
			}
			if(password == '') {
				alert('请输入密码');
				$('#password').focus();
				return false;
			}
			if(false == loginBtnClicked) {
				loginUiChange(1);
				loginSubmit();
			}
		});

		//登录中动画
		setInterval(loginingMovie, 1000);
	});
</script>
</body>
</html>